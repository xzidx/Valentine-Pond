<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>monika Â· nang</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    body {
      background: #1a3e3f;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
      font-family: 'Segoe UI', 'Courier New', monospace;
    }
    .frame {
      background: #2c5e5e;
      padding: 20px 20px 20px 20px;
      border-radius: 48px 48px 24px 24px;
      box-shadow: 0 20px 30px rgba(0,0,0,0.5);
      width: fit-content;
      margin: 0 auto;
    }
    .pond-container {
      position: relative;
      border-radius: 32px;
      overflow: hidden;
      box-shadow: inset 0 0 20px #0e2a2a;
    }
    canvas {
      display: block;
      width: 100%;
      height: auto;
      background: radial-gradient(circle at 50% 40%, #1f6f5e, #15423b);
      cursor: crosshair;
    }
  </style>
</head>
<body>
<div class="frame">
  <div class="pond-container">
    <canvas id="pondCanvas" width="1000" height="600"></canvas>
  </div>
</div>
<script>
  const canvas = document.getElementById('pondCanvas');
  const ctx = canvas.getContext('2d');

  // make canvas full width display but keep ratio
  canvas.style.width = '1000px';
  canvas.style.height = '600px';

  // ----------  LEAVES ----------
  const leaves = [];
  const LEAVES_COUNT = 45;

  for (let i = 0; i < LEAVES_COUNT; i++) {
    leaves.push({
      x: Math.random() * canvas.width,
      y: Math.random() * canvas.height,
      size: 12 + Math.random() * 24,
      speedX: 0.02 + Math.random() * 0.05,
      speedY: 0.015 + Math.random() * 0.04,
      rotation: Math.random() * Math.PI * 2,
      rotSpeed: (Math.random() - 0.5) * 0.0015,
      opacity: 0.5 + Math.random() * 0.3,
      color: `rgba(${200 + Math.floor(Math.random()*35)}, ${125 + Math.floor(Math.random()*30)}, ${85 + Math.floor(Math.random()*30)}, 0.6)`
    });
  }

  // ----------  FISH ----------
  let monika = {
    x: 550, y: 300,
    vx: 0, vy: 0,
    angle: 1.8,
    targetAngle: 1.8,
    targetX: 600, targetY: 270,
    bodyLength: 48,
    tailPhase: 0,
    name: 'Monika',
    messageTimer: 0,
    currentMessage: ''
  };

  let nang = {
    x: 490, y: 280,
    vx: 0, vy: 0,
    angle: 1.7,
    targetAngle: 1.7,
    bodyLength: 44,
    tailPhase: 0,
    name: 'Nang',
    messageTimer: 0,
    currentMessage: ''
  };

  // ----------  NANG'S 15 SPECIAL LINES ----------
  const nangMessages = [
    "cute mes pp sml bong",
    "som kiss muy mk oun ery",
    "smile dak bong jg kon yg dak name ey tv hr ?",
    "Kom run jrol bong merl ha",
    "Slanh bong heh",
    "Som kiss muy merl ha",
    "pp bong lren cute mg ha",
    "hue mix run jrol bong jg ha T-T",
    "Slanh pp bong mg ha :3",
    "Kert che ey bong nv ta slanh oun del",
    "Oun che fish kr nv ta cute",
    "Run jrol bong tt hz",
    "slanh bong ot ha ?",
    "hue kom run merl som kiss tix mk",
    "ot kiss pd oun eng heh"
  ];

  // ----------  MONIKA'S 12 LINES - NEW ONES ADDED ----------
  const monikaMessages = [
    "bork oun tt hz",
    "lie oun sos ng",
    "ot ban run jrol heh",
    "kom mk bork oun hr",
    "vai nogh lov hz",
    "slanh sos ng ha",
    "trov bos oun lov hz",
    "kom mk jit oun",
    "bork oun tt hz",
    "lie oun sos ng",
    "ot ban run jrol heh",
    "kom mk bork oun hr"
  ];

  // monika's targets
  function setNewMonikaTarget() {
    monika.targetX = 80 + Math.random() * (canvas.width - 160);
    monika.targetY = 80 + Math.random() * (canvas.height - 160);
  }
  setNewMonikaTarget();
  setInterval(setNewMonikaTarget, 5000);

  // ----------  REAL FISH FOLLOWING ----------
  const TURN_SPEED = 0.018;
  const MONIKA_SPEED = 0.48;
  
  const IDEAL_DISTANCE = 65;
  const TOO_CLOSE = 38;
  const FOLLOW_STRENGTH = 0.006;
  
  function smoothSwim() {
    // ----- MONIKA -----
    let dx = monika.targetX - monika.x;
    let dy = monika.targetY - monika.y;
    let dist = Math.hypot(dx, dy);
    
    if (dist > 2) {
      let normX = dx / dist;
      let normY = dy / dist;
      monika.vx += (normX * MONIKA_SPEED - monika.vx) * 0.06;
      monika.vy += (normY * MONIKA_SPEED - monika.vy) * 0.06;
      monika.targetAngle = Math.atan2(monika.vy, monika.vx);
    } else {
      monika.vx *= 0.97;
      monika.vy *= 0.97;
    }
    
    monika.x += monika.vx;
    monika.y += monika.vy;
    
    // boundaries
    if (monika.x < 50) { monika.vx += 0.08; monika.targetX = canvas.width - 200; }
    if (monika.x > canvas.width - 50) { monika.vx -= 0.08; monika.targetX = 200; }
    if (monika.y < 50) { monika.vy += 0.08; monika.targetY = canvas.height - 200; }
    if (monika.y > canvas.height - 50) { monika.vy -= 0.08; monika.targetY = 200; }
    
    monika.x = Math.min(Math.max(monika.x, 45), canvas.width - 45);
    monika.y = Math.min(Math.max(monika.y, 45), canvas.height - 45);
    
    // monika turn
    if (Math.hypot(monika.vx, monika.vy) > 0.1) {
      let angleDiff = monika.targetAngle - monika.angle;
      while (angleDiff > Math.PI) angleDiff -= Math.PI * 2;
      while (angleDiff < -Math.PI) angleDiff += Math.PI * 2;
      monika.angle += angleDiff * TURN_SPEED;
    }
    
    // ----- NANG - FOLLOW MONIKA NATURALLY -----
    let dxN = monika.x - nang.x;
    let dyN = monika.y - nang.y;
    let distN = Math.hypot(dxN, dyN);
    
    if (distN > 0.1) {
      let normXN = dxN / distN;
      let normYN = dyN / distN;
      
      // if too far, move closer
      if (distN > IDEAL_DISTANCE) {
        let pull = FOLLOW_STRENGTH * (distN / IDEAL_DISTANCE);
        nang.vx += normXN * pull * distN * 0.18;
        nang.vy += normYN * pull * distN * 0.18;
      }
      
      // if too close, move away
      if (distN < TOO_CLOSE) {
        let push = 0.1 * (1 - distN / TOO_CLOSE);
        nang.vx -= normXN * push;
        nang.vy -= normYN * push;
      }
      
      // at good distance, gentle speed match
      if (distN >= TOO_CLOSE && distN <= IDEAL_DISTANCE) {
        nang.vx += (monika.vx * 0.35 - nang.vx) * 0.02;
        nang.vy += (monika.vy * 0.35 - nang.vy) * 0.02;
      }
    }
    
    // individual movement
    nang.vx += Math.sin(Date.now() * 0.001 + nang.x) * 0.007;
    nang.vy += Math.cos(Date.now() * 0.0011 + nang.y) * 0.007;
    
    // damping
    nang.vx *= 0.98;
    nang.vy *= 0.98;
    
    nang.x += nang.vx;
    nang.y += nang.vy;
    
    // boundaries
    nang.x = Math.min(Math.max(nang.x, 45), canvas.width - 45);
    nang.y = Math.min(Math.max(nang.y, 45), canvas.height - 45);
    
    // nang turn
    if (Math.hypot(nang.vx, nang.vy) > 0.1) {
      nang.targetAngle = Math.atan2(nang.vy, nang.vx);
      let angleDiffN = nang.targetAngle - nang.angle;
      while (angleDiffN > Math.PI) angleDiffN -= Math.PI * 2;
      while (angleDiffN < -Math.PI) angleDiffN += Math.PI * 2;
      nang.angle += angleDiffN * 0.018;
    }
    
    // tails
    monika.tailPhase = (monika.tailPhase + 0.12) % (Math.PI * 2);
    nang.tailPhase = (nang.tailPhase + 0.14) % (Math.PI * 2);
    
    // ----- BOTH FISH SPEAK -----
    // Nang speaks
    nang.messageTimer--;
    if (nang.messageTimer <= 0) {
      let msgIndex = Math.floor(Math.random() * nangMessages.length);
      nang.currentMessage = nangMessages[msgIndex];
      nang.messageTimer = 80 + Math.floor(Math.random() * 60);
    }
    
    // Monika speaks
    monika.messageTimer--;
    if (monika.messageTimer <= 0) {
      let msgIndex = Math.floor(Math.random() * monikaMessages.length);
      monika.currentMessage = monikaMessages[msgIndex];
      monika.messageTimer = 100 + Math.floor(Math.random() * 70);
    }
  }

  function drawPond() {
    smoothSwim();
    
    ctx.clearRect(0, 0, canvas.width, canvas.height);
    
    // water
    ctx.fillStyle = 'rgba(240, 250, 230, 0.02)';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    
    // ----- LEAVES -----
    for (let l of leaves) {
      l.x += l.speedX;
      l.y += l.speedY;
      l.rotation += l.rotSpeed;
      
      if (l.x > canvas.width + 60) l.x = -60;
      if (l.x < -60) l.x = canvas.width + 60;
      if (l.y > canvas.height + 60) l.y = -60;
      if (l.y < -60) l.y = canvas.height + 60;
      
      ctx.save();
      ctx.translate(l.x, l.y);
      ctx.rotate(l.rotation);
      ctx.globalAlpha = l.opacity * 0.8;
      ctx.fillStyle = l.color;
      ctx.shadowBlur = 6;
      ctx.shadowColor = 'rgba(80, 40, 20, 0.2)';
      
      ctx.beginPath();
      ctx.moveTo(0, 0);
      ctx.quadraticCurveTo(l.size * 0.4, -l.size * 0.5, l.size * 0.9, 0);
      ctx.quadraticCurveTo(l.size * 0.4, l.size * 0.5, 0, 0);
      ctx.fill();
      ctx.restore();
    }
    
    // ----- MONIKA with NAME and SPEECH -----
    ctx.save();
    ctx.translate(monika.x, monika.y);
    ctx.rotate(monika.angle);
    
    let gradient = ctx.createLinearGradient(-16, -6, 16, 6);
    gradient.addColorStop(0, '#ffaa80');
    gradient.addColorStop(1, '#ff8c69');
    ctx.fillStyle = gradient;
    ctx.shadowBlur = 16;
    ctx.shadowColor = 'rgba(255, 140, 100, 0.5)';
    
    ctx.beginPath();
    ctx.ellipse(0, 0, monika.bodyLength/2, monika.bodyLength/4.2, 0, 0, Math.PI * 2);
    ctx.fill();
    
    ctx.fillStyle = '#ff7f50';
    ctx.shadowBlur = 14;
    ctx.beginPath();
    ctx.moveTo(-monika.bodyLength/2 + 5, -2);
    ctx.lineTo(-monika.bodyLength/2 - 14 + Math.sin(monika.tailPhase) * 3.5, -12);
    ctx.lineTo(-monika.bodyLength/2 - 14 + Math.cos(monika.tailPhase) * 3, 12);
    ctx.closePath();
    ctx.fill();
    
    ctx.shadowBlur = 2;
    ctx.beginPath();
    ctx.arc(monika.bodyLength/5, -2.5, 2.8, 0, 2 * Math.PI);
    ctx.fillStyle = '#1e1e2a';
    ctx.fill();
    ctx.beginPath();
    ctx.arc(monika.bodyLength/5 + 1.1, -2.8, 1.1, 0, 2*Math.PI);
    ctx.fillStyle = 'white';
    ctx.fill();
    
    // MONIKA NAME
    ctx.shadowBlur = 8;
    ctx.font = 'bold 18px "Courier New", monospace';
    ctx.fillStyle = '#fff9f0';
    ctx.fillText('ðŸŒ¸ Monika', 28, -35);
    
    ctx.restore();
    
    // ----- NANG with NAME -----
    ctx.save();
    ctx.translate(nang.x, nang.y);
    ctx.rotate(nang.angle);
    
    let gradientN = ctx.createLinearGradient(-14, -5, 14, 5);
    gradientN.addColorStop(0, '#6aaac9');
    gradientN.addColorStop(1, '#4682b4');
    ctx.fillStyle = gradientN;
    ctx.shadowBlur = 16;
    ctx.shadowColor = 'rgba(70, 130, 180, 0.5)';
    
    ctx.beginPath();
    ctx.ellipse(0, 0, nang.bodyLength/2, nang.bodyLength/4.5, 0, 0, Math.PI * 2);
    ctx.fill();
    
    ctx.fillStyle = '#2e5e7e';
    ctx.beginPath();
    ctx.moveTo(-nang.bodyLength/2 + 5, -2);
    ctx.lineTo(-nang.bodyLength/2 - 15 + Math.sin(nang.tailPhase) * 3.5, -11);
    ctx.lineTo(-nang.bodyLength/2 - 15 + Math.cos(nang.tailPhase) * 3, 11);
    ctx.closePath();
    ctx.fill();
    
    ctx.shadowBlur = 2;
    ctx.beginPath();
    ctx.arc(nang.bodyLength/5, -2.3, 2.5, 0, 2 * Math.PI);
    ctx.fillStyle = '#151525';
    ctx.fill();
    ctx.beginPath();
    ctx.arc(nang.bodyLength/5 + 0.9, -2.8, 0.9, 0, 2*Math.PI);
    ctx.fillStyle = 'white';
    ctx.fill();
    
    // NANG NAME
    ctx.shadowBlur = 8;
    ctx.font = 'bold 18px "Courier New", monospace';
    ctx.fillStyle = '#fff5e6';
    ctx.fillText('ðŸ’™ Nang', -65, -40);
    
    ctx.restore();
    
    // ----- MONIKA'S SPEECH BUBBLE -----
    if (monika.currentMessage && monika.messageTimer > 0) {
      ctx.save();
      
      let bubbleX = monika.x;
      let bubbleY = monika.y - 90;
      
      ctx.font = '16px "Courier New", monospace';
      let textWidth = ctx.measureText(monika.currentMessage).width;
      let bubbleWidth = Math.max(textWidth + 32, 220);
      let bubbleHeight = 46;
      
      ctx.shadowBlur = 12;
      ctx.shadowColor = 'rgba(0,0,0,0.3)';
      ctx.fillStyle = 'rgba(255, 240, 240, 0.98)';
      ctx.strokeStyle = '#ffb7c5';
      ctx.lineWidth = 2.5;
      
      ctx.beginPath();
      ctx.roundRect(bubbleX - bubbleWidth/2, bubbleY - bubbleHeight/2, bubbleWidth, bubbleHeight, 24);
      ctx.fill();
      ctx.stroke();
      
      ctx.beginPath();
      ctx.moveTo(bubbleX - 14, bubbleY + bubbleHeight/2 - 2);
      ctx.lineTo(bubbleX, bubbleY + bubbleHeight/2 + 18);
      ctx.lineTo(bubbleX + 14, bubbleY + bubbleHeight/2 - 2);
      ctx.fillStyle = 'rgba(255, 240, 240, 0.98)';
      ctx.fill();
      
      ctx.shadowBlur = 0;
      ctx.fillStyle = '#4a2a3a';
      ctx.font = 'bold 16px "Courier New", monospace';
      ctx.fillText(monika.currentMessage, bubbleX - textWidth/2, bubbleY + 8);
      
      ctx.restore();
    }
    
    // ----- NANG'S SPEECH BUBBLE -----
    if (nang.currentMessage && nang.messageTimer > 0) {
      ctx.save();
      
      let bubbleX = nang.x;
      let bubbleY = nang.y - 90;
      
      ctx.font = '16px "Courier New", monospace';
      let textWidth = ctx.measureText(nang.currentMessage).width;
      let bubbleWidth = Math.max(textWidth + 32, 260);
      let bubbleHeight = 46;
      
      ctx.shadowBlur = 12;
      ctx.shadowColor = 'rgba(0,0,0,0.3)';
      ctx.fillStyle = 'rgba(235, 245, 255, 0.98)';
      ctx.strokeStyle = '#a5c5ff';
      ctx.lineWidth = 2.5;
      
      ctx.beginPath();
      ctx.roundRect(bubbleX - bubbleWidth/2, bubbleY - bubbleHeight/2, bubbleWidth, bubbleHeight, 24);
      ctx.fill();
      ctx.stroke();
      
      ctx.beginPath();
      ctx.moveTo(bubbleX - 14, bubbleY + bubbleHeight/2 - 2);
      ctx.lineTo(bubbleX, bubbleY + bubbleHeight/2 + 18);
      ctx.lineTo(bubbleX + 14, bubbleY + bubbleHeight/2 - 2);
      ctx.fillStyle = 'rgba(235, 245, 255, 0.98)';
      ctx.fill();
      
      ctx.shadowBlur = 0;
      ctx.fillStyle = '#2a3a4a';
      ctx.font = 'bold 16px "Courier New", monospace';
      ctx.fillText(nang.currentMessage, bubbleX - textWidth/2, bubbleY + 8);
      
      ctx.restore();
    }
    
    // ----- HEARTS - ONLY BETWEEN THEM -----
    let distBetween = Math.hypot(monika.x - nang.x, monika.y - nang.y);
    if (distBetween > TOO_CLOSE && distBetween < IDEAL_DISTANCE + 25 && Math.random() < 0.2) {
      ctx.save();
      let heartX = (monika.x + nang.x) / 2 + (Math.random() - 0.5) * 30;
      let heartY = (monika.y + nang.y) / 2 + (Math.random() - 0.5) * 25 - 5;
      ctx.translate(heartX, heartY);
      ctx.font = '24px "Segoe UI", sans-serif';
      ctx.fillStyle = 'rgba(255, 130, 160, 0.85)';
      ctx.shadowBlur = 20;
      ctx.shadowColor = '#ff6f91';
      ctx.fillText('â¤ï¸', -14, -14);
      ctx.restore();
    }
    
    requestAnimationFrame(drawPond);
  }

  // Helper function
  CanvasRenderingContext2D.prototype.roundRect = function (x, y, w, h, r) {
    if (w < 2 * r) r = w / 2;
    if (h < 2 * r) r = h / 2;
    this.moveTo(x + r, y);
    this.lineTo(x + w - r, y);
    this.quadraticCurveTo(x + w, y, x + w, y + r);
    this.lineTo(x + w, y + h - r);
    this.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
    this.lineTo(x + r, y + h);
    this.quadraticCurveTo(x, y + h, x, y + h - r);
    this.lineTo(x, y + r);
    this.quadraticCurveTo(x, y, x + r, y);
    return this;
  };

  drawPond();

  // click to guide monika
  canvas.addEventListener('click', (e) => {
    let rect = canvas.getBoundingClientRect();
    let scaleX = canvas.width / rect.width;
    let scaleY = canvas.height / rect.height;
    let canvasX = (e.clientX - rect.left) * scaleX;
    let canvasY = (e.clientY - rect.top) * scaleY;
    
    monika.targetX = canvasX;
    monika.targetY = canvasY;
  });

</script>
</body>
</html>